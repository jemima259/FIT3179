{
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "width": 800,
  "height": 600,
  "title": "Trees planted over time",
  "data": {
    "url": "https://raw.githubusercontent.com/jemima259/FIT3179/main/2Trees__with_species_and_dimensions__Urban_Forest_.csv"
  }, 
  "transform" : [{"filter": "datum.Year_Planted > 1996"}],
"selection": {
   "family_highlight": {
     "type": "multi",
     "fields": ["Family"],
     "bind": "legend"
} 
},
  "encoding": {
    "x": {
      "field": "Year_Planted",
      "type": "temporal",
      "title": "Year Planted",
      "axis": {"tickCount": "year"},
      "scale": {"type": "time"}
    },
    
    "y": {
      "aggregate": "count",
      "field": "Family",
      "type": "quantitative",
      "title": "Trees Planted"},
    "color": {
      "field": "Family",
      "type": "nominal",
      "condition":{
        "test": "datum.Family != 'Myrtaceae'",
        "value": "lightgrey"
      }
    }
  },
    "layer": [
     {  "mark": "line"},
     {
        "mark": {
          "type": "text",
          "align": "left",
          "baseline": "top"
        },
        "encoding":{
          "text" : {"field": "Family", "type": "nominal"},
          "color": {"value": "black"},
          "opacity":{
            "condition":{
              "test": "datum.Family == 'Myrtaceae'", "value": 1
        },
        
        "value": 0
        }
        }
      }
    ]
  }
